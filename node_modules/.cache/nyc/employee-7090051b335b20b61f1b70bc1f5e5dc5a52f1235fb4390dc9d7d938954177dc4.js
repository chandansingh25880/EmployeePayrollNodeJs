function cov_1qu8xeq69r(){var path="F:\\Node-Project\\EmployeePayrollNodeJs\\app\\models\\employee.js";var hash="c012ba78a47ee12a5e36d220e4ad9543fb36dc59";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"F:\\Node-Project\\EmployeePayrollNodeJs\\app\\models\\employee.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:15},end:{line:2,column:32}},"2":{start:{line:4,column:23},end:{line:11,column:2}},"3":{start:{line:13,column:17},end:{line:13,column:59}},"4":{start:{line:22,column:13},end:{line:33,column:5}},"5":{start:{line:23,column:8},end:{line:23,column:36}},"6":{start:{line:24,column:25},end:{line:29,column:10}},"7":{start:{line:30,column:8},end:{line:32,column:11}},"8":{start:{line:31,column:12},end:{line:31,column:74}},"9":{start:{line:40,column:23},end:{line:44,column:5}},"10":{start:{line:41,column:8},end:{line:43,column:11}},"11":{start:{line:42,column:12},end:{line:42,column:74}},"12":{start:{line:51,column:17},end:{line:55,column:5}},"13":{start:{line:52,column:8},end:{line:54,column:10}},"14":{start:{line:53,column:12},end:{line:53,column:74}},"15":{start:{line:62,column:24},end:{line:66,column:5}},"16":{start:{line:63,column:8},end:{line:65,column:10}},"17":{start:{line:64,column:12},end:{line:64,column:62}},"18":{start:{line:73,column:17},end:{line:82,column:5}},"19":{start:{line:74,column:8},end:{line:81,column:11}},"20":{start:{line:80,column:12},end:{line:80,column:74}},"21":{start:{line:89,column:26},end:{line:96,column:5}},"22":{start:{line:90,column:8},end:{line:95,column:10}},"23":{start:{line:91,column:12},end:{line:93,column:13}},"24":{start:{line:92,column:16},end:{line:92,column:44}},"25":{start:{line:94,column:12},end:{line:94,column:91}},"26":{start:{line:99,column:0},end:{line:99,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:22,column:13},end:{line:22,column:14}},loc:{start:{line:22,column:37},end:{line:33,column:5}},line:22},"1":{name:"(anonymous_1)",decl:{start:{line:30,column:26},end:{line:30,column:27}},loc:{start:{line:30,column:43},end:{line:32,column:9}},line:30},"2":{name:"(anonymous_2)",decl:{start:{line:40,column:23},end:{line:40,column:24}},loc:{start:{line:40,column:37},end:{line:44,column:5}},line:40},"3":{name:"(anonymous_3)",decl:{start:{line:41,column:26},end:{line:41,column:27}},loc:{start:{line:41,column:43},end:{line:43,column:9}},line:41},"4":{name:"(anonymous_4)",decl:{start:{line:51,column:17},end:{line:51,column:18}},loc:{start:{line:51,column:48},end:{line:55,column:5}},line:51},"5":{name:"(anonymous_5)",decl:{start:{line:52,column:43},end:{line:52,column:44}},loc:{start:{line:52,column:60},end:{line:54,column:9}},line:52},"6":{name:"(anonymous_6)",decl:{start:{line:62,column:24},end:{line:62,column:25}},loc:{start:{line:62,column:50},end:{line:66,column:5}},line:62},"7":{name:"(anonymous_7)",decl:{start:{line:63,column:47},end:{line:63,column:48}},loc:{start:{line:63,column:56},end:{line:65,column:9}},line:63},"8":{name:"(anonymous_8)",decl:{start:{line:73,column:17},end:{line:73,column:18}},loc:{start:{line:73,column:52},end:{line:82,column:5}},line:73},"9":{name:"(anonymous_9)",decl:{start:{line:79,column:26},end:{line:79,column:27}},loc:{start:{line:79,column:43},end:{line:81,column:9}},line:79},"10":{name:"(anonymous_10)",decl:{start:{line:89,column:26},end:{line:89,column:27}},loc:{start:{line:89,column:53},end:{line:96,column:5}},line:89},"11":{name:"(anonymous_11)",decl:{start:{line:90,column:61},end:{line:90,column:62}},loc:{start:{line:90,column:78},end:{line:95,column:9}},line:90}},branchMap:{"0":{loc:{start:{line:31,column:19},end:{line:31,column:73}},type:"cond-expr",locations:[{start:{line:31,column:29},end:{line:31,column:50}},{start:{line:31,column:53},end:{line:31,column:73}}],line:31},"1":{loc:{start:{line:42,column:19},end:{line:42,column:73}},type:"cond-expr",locations:[{start:{line:42,column:29},end:{line:42,column:50}},{start:{line:42,column:53},end:{line:42,column:73}}],line:42},"2":{loc:{start:{line:53,column:19},end:{line:53,column:73}},type:"cond-expr",locations:[{start:{line:53,column:29},end:{line:53,column:50}},{start:{line:53,column:53},end:{line:53,column:73}}],line:53},"3":{loc:{start:{line:64,column:19},end:{line:64,column:61}},type:"cond-expr",locations:[{start:{line:64,column:29},end:{line:64,column:44}},{start:{line:64,column:47},end:{line:64,column:61}}],line:64},"4":{loc:{start:{line:80,column:19},end:{line:80,column:73}},type:"cond-expr",locations:[{start:{line:80,column:29},end:{line:80,column:50}},{start:{line:80,column:53},end:{line:80,column:73}}],line:80},"5":{loc:{start:{line:91,column:12},end:{line:93,column:13}},type:"if",locations:[{start:{line:91,column:12},end:{line:93,column:13}},{start:{line:91,column:12},end:{line:93,column:13}}],line:91},"6":{loc:{start:{line:94,column:19},end:{line:94,column:90}},type:"cond-expr",locations:[{start:{line:94,column:29},end:{line:94,column:67}},{start:{line:94,column:70},end:{line:94,column:90}}],line:94}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c012ba78a47ee12a5e36d220e4ad9543fb36dc59"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1qu8xeq69r=function(){return actualCoverage;};}return actualCoverage;}cov_1qu8xeq69r();const mongoose=(cov_1qu8xeq69r().s[0]++,require('mongoose'));const bcrypt=(cov_1qu8xeq69r().s[1]++,require('bcrypt'));const EmployeeSchema=(cov_1qu8xeq69r().s[2]++,mongoose.Schema({firstName:{type:String,required:true,validate:/^[a-zA-Z ]{3,30}$/},lastName:{type:String,required:true,validate:/^[a-zA-Z ]{3,30}$/},emailId:{type:String,required:true,validate:/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9]+[.]+[a-zA-Z]+$/},password:{type:String,required:true}},{timestamps:false}));const Employee=(cov_1qu8xeq69r().s[3]++,mongoose.model('Employee',EmployeeSchema));class UserDetail{/*
    * @description Create method is to save the new Employee Data
    * @param userdData is data sent from Services
    * @return callback is used to callback the Services which  includes error msg or data
    */create=(cov_1qu8xeq69r().s[4]++,(userdata,callback)=>{cov_1qu8xeq69r().f[0]++;cov_1qu8xeq69r().s[5]++;console.log("creating data");const employee=(cov_1qu8xeq69r().s[6]++,new Employee({firstName:userdata.firstName,lastName:userdata.lastName,emailId:userdata.emailId,password:userdata.password}));cov_1qu8xeq69r().s[7]++;employee.save({},(error,data)=>{cov_1qu8xeq69r().f[1]++;cov_1qu8xeq69r().s[8]++;return error?(cov_1qu8xeq69r().b[0][0]++,callback(error,null)):(cov_1qu8xeq69r().b[0][1]++,callback(null,data));});});/*
    * @description retrive all the Employee Data from MongoDB
    * @param callback is data sent from Services
    * @return callback is used to callback Services with data or error message
    */findAllEmployees=(cov_1qu8xeq69r().s[9]++,callback=>{cov_1qu8xeq69r().f[2]++;cov_1qu8xeq69r().s[10]++;Employee.find({},(error,data)=>{cov_1qu8xeq69r().f[3]++;cov_1qu8xeq69r().s[11]++;return error?(cov_1qu8xeq69r().b[1][0]++,callback(error,null)):(cov_1qu8xeq69r().b[1][1]++,callback(null,data));});});/*
    * @description retrive all the Employee Data from MongoDB
    * @param objectId, callback is data sent from Service
    * @return callback is used to callback the Services with data or error message
    */findDataId=(cov_1qu8xeq69r().s[12]++,(employeObjectId,callback)=>{cov_1qu8xeq69r().f[4]++;cov_1qu8xeq69r().s[13]++;Employee.findById(employeObjectId,(error,data)=>{cov_1qu8xeq69r().f[5]++;cov_1qu8xeq69r().s[14]++;return error?(cov_1qu8xeq69r().b[2][0]++,callback(error,null)):(cov_1qu8xeq69r().b[2][1]++,callback(null,data));});});/*
    * @description delete the Employee Data from MongoDB
    * @param objectId, callback is data sent from Services
    * @return callback is used to callback Services with or without error message
    */deleteDataUsingId=(cov_1qu8xeq69r().s[15]++,(userDataID,callback)=>{cov_1qu8xeq69r().f[6]++;cov_1qu8xeq69r().s[16]++;Employee.findByIdAndRemove(userDataID,error=>{cov_1qu8xeq69r().f[7]++;cov_1qu8xeq69r().s[17]++;return error?(cov_1qu8xeq69r().b[3][0]++,callback(error)):(cov_1qu8xeq69r().b[3][1]++,callback(null));});});/*
    * @description Update the Registration_Data by Id
    * @param oldregistration_Id, New_UserData and callback
    * @return callback is used to callback Services with data or error message
    */updateById=(cov_1qu8xeq69r().s[18]++,(userId,newUserData,callback)=>{cov_1qu8xeq69r().f[8]++;cov_1qu8xeq69r().s[19]++;Employee.findByIdAndUpdate(userId,{firstName:newUserData.firstName,lastName:newUserData.lastName,email:newUserData.email,password:newUserData.password},{new:true},(error,data)=>{cov_1qu8xeq69r().f[9]++;cov_1qu8xeq69r().s[20]++;return error?(cov_1qu8xeq69r().b[4][0]++,callback(error,null)):(cov_1qu8xeq69r().b[4][1]++,callback(null,data));});});/*
    * @description Get the data by emailID
    * @param loginData having emailId and password
    * @return callback is used to callback Services with data or error message
    */checkLoginDetails=(cov_1qu8xeq69r().s[21]++,(credentials,callback)=>{cov_1qu8xeq69r().f[10]++;cov_1qu8xeq69r().s[22]++;Employee.findOne({"emailId":credentials.emailId},(error,data)=>{cov_1qu8xeq69r().f[11]++;cov_1qu8xeq69r().s[23]++;if(error){cov_1qu8xeq69r().b[5][0]++;cov_1qu8xeq69r().s[24]++;return callback(error,null);}else{cov_1qu8xeq69r().b[5][1]++;}cov_1qu8xeq69r().s[25]++;return!data?(cov_1qu8xeq69r().b[6][0]++,callback("UserId doesn't exist",null)):(cov_1qu8xeq69r().b[6][1]++,callback(null,data));});});}cov_1qu8xeq69r().s[26]++;module.exports=new UserDetail();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcGxveWVlLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImJjcnlwdCIsIkVtcGxveWVlU2NoZW1hIiwiU2NoZW1hIiwiZmlyc3ROYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidmFsaWRhdGUiLCJsYXN0TmFtZSIsImVtYWlsSWQiLCJwYXNzd29yZCIsInRpbWVzdGFtcHMiLCJFbXBsb3llZSIsIm1vZGVsIiwiVXNlckRldGFpbCIsImNyZWF0ZSIsInVzZXJkYXRhIiwiY2FsbGJhY2siLCJjb25zb2xlIiwibG9nIiwiZW1wbG95ZWUiLCJzYXZlIiwiZXJyb3IiLCJkYXRhIiwiZmluZEFsbEVtcGxveWVlcyIsImZpbmQiLCJmaW5kRGF0YUlkIiwiZW1wbG95ZU9iamVjdElkIiwiZmluZEJ5SWQiLCJkZWxldGVEYXRhVXNpbmdJZCIsInVzZXJEYXRhSUQiLCJmaW5kQnlJZEFuZFJlbW92ZSIsInVwZGF0ZUJ5SWQiLCJ1c2VySWQiLCJuZXdVc2VyRGF0YSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZW1haWwiLCJuZXciLCJjaGVja0xvZ2luRGV0YWlscyIsImNyZWRlbnRpYWxzIiwiZmluZE9uZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJrZ0xBZVk7MkZBZlosS0FBTUEsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFaLENBRUEsS0FBTUUsQ0FBQUEsY0FBYywwQkFBR0gsUUFBUSxDQUFDSSxNQUFULENBQWdCLENBQ25DQyxTQUFTLENBQUUsQ0FBRUMsSUFBSSxDQUFFQyxNQUFSLENBQWdCQyxRQUFRLENBQUUsSUFBMUIsQ0FBZ0NDLFFBQVEsQ0FBRSxtQkFBMUMsQ0FEd0IsQ0FFbkNDLFFBQVEsQ0FBRSxDQUFFSixJQUFJLENBQUVDLE1BQVIsQ0FBZ0JDLFFBQVEsQ0FBRSxJQUExQixD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QzFCLFFBRlMsQ0FHL0I0QixLQUFLLENBQUVGLFdBQVcsQ0FBQ0UsS0FIWSxDQUkvQjFCLFFBQVEsQ0FBRXdCLFdBQVcsQ0FBQ3hCLFFBSlMsQ0FBbkMsQ0FLRyxDQUFFMkIsR0FBRyxDQUFFLElBQVAsQ0FMSCxDQUtrQixDQUFDZixLQUFELENBQVFDLElBQVIsR0FBaUIsa0RBQy9CLE1BQVFELENBQUFBLEtBQUQsNkJBQVVMLFFBQVEsQ0FBQ0ssS0FBRCxDQUFRLElBQVIsQ0FBbEIsOEJBQWtDTCxRQUFRLENBQUMsSUFBRCxDQUFPTSxJQUFQLENBQTFDLENBQVAsQ0FDSCxDQVBELEVBUUgsQ0FUUyxFQVdUO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFDTWUsaUJBQWlCLDJCQUFHLENBQUNDLFdBQUQsQ0FBY3RCLFFBQWQsR0FBMkIsbURBQzdDTCxRQUFRLENBQUM0QixPQUFULENBQWlCLENBQUUsVUFBV0QsV0FBVyxDQUFDOUIsT0FBekIsQ0FBakIsQ0FBcUQsQ0FBQ2EsS0FBRCxDQUFRQyxJQUFSLEdBQWlCLG1EQUNsRSxHQUFJRCxLQUFKLENBQVcscURBQ1AsTUFBT0wsQ0FBQUEsUUFBUSxDQUFDSyxLQUFELENBQVEsSUFBUixDQUFmLENBQ0gsQ0FGRCxpQ0FEa0UseUJBSWxFLE1BQVEsQ0FBQ0MsSUFBRiw2QkFBVU4sUUFBUSxDQUFDLHNCQUFELENBQXlCLElBQXpCLENBQWxCLDhCQUFtREEsUUFBUSxDQUFDLElBQUQsQ0FBT00sSUFBUCxDQUEzRCxDQUFQLENBQ0gsQ0FMRCxFQU1ILENBUGtCLEVBMUVOLEMseUJBb0ZqQmtCLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlLEdBQUk1QixDQUFBQSxVQUFKLEVBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xyXG5cclxuY29uc3QgRW1wbG95ZWVTY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgZmlyc3ROYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHZhbGlkYXRlOiAvXlthLXpBLVogXXszLDMwfSQvIH0sXHJcbiAgICBsYXN0TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB2YWxpZGF0ZTogL15bYS16QS1aIF17MywzMH0kLyB9LFxyXG4gICAgZW1haWxJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB2YWxpZGF0ZTogL15bYS16QS1aMC05K18uLV0rQFthLXpBLVowLTldK1suXStbYS16QS1aXSskLyB9LFxyXG4gICAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9XHJcbn0sIHtcclxuICAgIHRpbWVzdGFtcHM6IGZhbHNlXHJcbn0pO1xyXG5cclxuY29uc3QgRW1wbG95ZWUgPSBtb25nb29zZS5tb2RlbCgnRW1wbG95ZWUnLCBFbXBsb3llZVNjaGVtYSlcclxuXHJcbmNsYXNzIFVzZXJEZXRhaWwge1xyXG5cclxuICAgLypcclxuICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZSBtZXRob2QgaXMgdG8gc2F2ZSB0aGUgbmV3IEVtcGxveWVlIERhdGFcclxuICAgICogQHBhcmFtIHVzZXJkRGF0YSBpcyBkYXRhIHNlbnQgZnJvbSBTZXJ2aWNlc1xyXG4gICAgKiBAcmV0dXJuIGNhbGxiYWNrIGlzIHVzZWQgdG8gY2FsbGJhY2sgdGhlIFNlcnZpY2VzIHdoaWNoICBpbmNsdWRlcyBlcnJvciBtc2cgb3IgZGF0YVxyXG4gICAgKi9cclxuICAgIGNyZWF0ZSA9ICh1c2VyZGF0YSwgY2FsbGJhY2spID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0aW5nIGRhdGFcIilcclxuICAgICAgICBjb25zdCBlbXBsb3llZSA9IG5ldyBFbXBsb3llZSh7XHJcbiAgICAgICAgICAgIGZpcnN0TmFtZTogdXNlcmRhdGEuZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICBsYXN0TmFtZTogdXNlcmRhdGEubGFzdE5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsSWQ6IHVzZXJkYXRhLmVtYWlsSWQsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyZGF0YS5wYXNzd29yZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVtcGxveWVlLnNhdmUoe30sIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKGVycm9yKSA/IGNhbGxiYWNrKGVycm9yLCBudWxsKSA6IGNhbGxiYWNrKG51bGwsIGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAqIEBkZXNjcmlwdGlvbiByZXRyaXZlIGFsbCB0aGUgRW1wbG95ZWUgRGF0YSBmcm9tIE1vbmdvREJcclxuICAgICogQHBhcmFtIGNhbGxiYWNrIGlzIGRhdGEgc2VudCBmcm9tIFNlcnZpY2VzXHJcbiAgICAqIEByZXR1cm4gY2FsbGJhY2sgaXMgdXNlZCB0byBjYWxsYmFjayBTZXJ2aWNlcyB3aXRoIGRhdGEgb3IgZXJyb3IgbWVzc2FnZVxyXG4gICAgKi9cclxuICAgIGZpbmRBbGxFbXBsb3llZXMgPSAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICBFbXBsb3llZS5maW5kKHt9LCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChlcnJvcikgPyBjYWxsYmFjayhlcnJvciwgbnVsbCkgOiBjYWxsYmFjayhudWxsLCBkYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgIC8qXHJcbiAgICAqIEBkZXNjcmlwdGlvbiByZXRyaXZlIGFsbCB0aGUgRW1wbG95ZWUgRGF0YSBmcm9tIE1vbmdvREJcclxuICAgICogQHBhcmFtIG9iamVjdElkLCBjYWxsYmFjayBpcyBkYXRhIHNlbnQgZnJvbSBTZXJ2aWNlXHJcbiAgICAqIEByZXR1cm4gY2FsbGJhY2sgaXMgdXNlZCB0byBjYWxsYmFjayB0aGUgU2VydmljZXMgd2l0aCBkYXRhIG9yIGVycm9yIG1lc3NhZ2VcclxuICAgICovXHJcbiAgICBmaW5kRGF0YUlkID0gKGVtcGxveWVPYmplY3RJZCwgY2FsbGJhY2spID0+IHtcclxuICAgICAgICBFbXBsb3llZS5maW5kQnlJZChlbXBsb3llT2JqZWN0SWQsIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKGVycm9yKSA/IGNhbGxiYWNrKGVycm9yLCBudWxsKSA6IGNhbGxiYWNrKG51bGwsIGRhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICogQGRlc2NyaXB0aW9uIGRlbGV0ZSB0aGUgRW1wbG95ZWUgRGF0YSBmcm9tIE1vbmdvREJcclxuICAgICogQHBhcmFtIG9iamVjdElkLCBjYWxsYmFjayBpcyBkYXRhIHNlbnQgZnJvbSBTZXJ2aWNlc1xyXG4gICAgKiBAcmV0dXJuIGNhbGxiYWNrIGlzIHVzZWQgdG8gY2FsbGJhY2sgU2VydmljZXMgd2l0aCBvciB3aXRob3V0IGVycm9yIG1lc3NhZ2VcclxuICAgICovXHJcbiAgICBkZWxldGVEYXRhVXNpbmdJZCA9ICh1c2VyRGF0YUlELCBjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgIEVtcGxveWVlLmZpbmRCeUlkQW5kUmVtb3ZlKHVzZXJEYXRhSUQsIGVycm9yID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChlcnJvcikgPyBjYWxsYmFjayhlcnJvcikgOiBjYWxsYmFjayhudWxsKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgLypcclxuICAgICogQGRlc2NyaXB0aW9uIFVwZGF0ZSB0aGUgUmVnaXN0cmF0aW9uX0RhdGEgYnkgSWRcclxuICAgICogQHBhcmFtIG9sZHJlZ2lzdHJhdGlvbl9JZCwgTmV3X1VzZXJEYXRhIGFuZCBjYWxsYmFja1xyXG4gICAgKiBAcmV0dXJuIGNhbGxiYWNrIGlzIHVzZWQgdG8gY2FsbGJhY2sgU2VydmljZXMgd2l0aCBkYXRhIG9yIGVycm9yIG1lc3NhZ2VcclxuICAgICovXHJcbiAgICB1cGRhdGVCeUlkID0gKHVzZXJJZCwgbmV3VXNlckRhdGEsIGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgRW1wbG95ZWUuZmluZEJ5SWRBbmRVcGRhdGUodXNlcklkLCB7XHJcbiAgICAgICAgICAgIGZpcnN0TmFtZTogbmV3VXNlckRhdGEuZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICBsYXN0TmFtZTogbmV3VXNlckRhdGEubGFzdE5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBuZXdVc2VyRGF0YS5lbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IG5ld1VzZXJEYXRhLnBhc3N3b3JkXHJcbiAgICAgICAgfSwgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoZXJyb3IpID8gY2FsbGJhY2soZXJyb3IsIG51bGwpIDogY2FsbGJhY2sobnVsbCwgZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgIC8qXHJcbiAgICAqIEBkZXNjcmlwdGlvbiBHZXQgdGhlIGRhdGEgYnkgZW1haWxJRFxyXG4gICAgKiBAcGFyYW0gbG9naW5EYXRhIGhhdmluZyBlbWFpbElkIGFuZCBwYXNzd29yZFxyXG4gICAgKiBAcmV0dXJuIGNhbGxiYWNrIGlzIHVzZWQgdG8gY2FsbGJhY2sgU2VydmljZXMgd2l0aCBkYXRhIG9yIGVycm9yIG1lc3NhZ2VcclxuICAgICovXHJcbiAgICAgIGNoZWNrTG9naW5EZXRhaWxzID0gKGNyZWRlbnRpYWxzLCBjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgIEVtcGxveWVlLmZpbmRPbmUoeyBcImVtYWlsSWRcIjogY3JlZGVudGlhbHMuZW1haWxJZCB9LCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyb3IsIG51bGwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICghZGF0YSkgPyBjYWxsYmFjayhcIlVzZXJJZCBkb2Vzbid0IGV4aXN0XCIsIG51bGwpIDogY2FsbGJhY2sobnVsbCwgZGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHM9bmV3IFVzZXJEZXRhaWwoKTsiXX0=